[general]
output = "gOre_1g0p_1g1p"
fsthresh = [
  "@gOre_threshold",
  "@gOre_threshold",
  "@muon_threshold",
  "@pion_threshold",
  "@proton_threshold",
]
pidfn = "gOre_pid"

[parameters]
gOre_threshold = 25 # MeV
muon_threshold = 25 # MeV
pion_threshold = 25 # MeV
proton_threshold = 50 # MeV
flash_low_t =  0.0 # µs
flash_high_t = 1.6 # µs
fiducial_xdist_pos = 50 # cm
fiducial_xdist_neg = 50 # cm
fiducial_ydist_pos = 50 # cm
fiducial_ydist_neg = 50 # cm
fiducial_zdist_pos = 50 # cm
fiducial_zdist_neg = 50 # cm
pion_mass_threshold = 0.4 # fraction of π0 mass
photon_vertex_resolution = 150 # cm
flash_pe_neutron_scaling = 0.01
angle_neutron_scaling = 1.0

[[category]] # contained, fiducial, single photon
cuts = [
  { name = "neutrino"                                                 },
  { name = "containment_cut"                                          },
  { name = "fiducial_cut"                                             },
  { name = "single_photon",        parameters = [ "@gOre_threshold" ] },
  { name = "no_electrons",         parameters = [ "@gOre_threshold" ] },
  { name = "no_muons",             parameters = [ "@muon_threshold" ] },
  { name = "no_charged_pions",     parameters = [ "@pion_threshold" ] },
]

[[category]] # single photon
cuts = [
  { name = "neutrino"                                                 },
  { name = "single_photon",        parameters = [ "@gOre_threshold" ] },
  { name = "no_electrons",         parameters = [ "@gOre_threshold" ] },
  { name = "no_muons",             parameters = [ "@muon_threshold" ] },
  { name = "no_charged_pions",     parameters = [ "@pion_threshold" ] },
]

[[category]] # contained, fiducial, single electron
cuts = [
  { name = "neutrino"                                                 },
  { name = "containment_cut"                                          },
  { name = "fiducial_cut"                                             },
  { name = "single_electron",      parameters = [ "@gOre_threshold" ] },
  { name = "no_photons",           parameters = [ "@gOre_threshold" ] },
  { name = "no_muons",             parameters = [ "@muon_threshold" ] },
  { name = "no_charged_pions",     parameters = [ "@pion_threshold" ] },
]

[[category]] # single electron
cuts = [
  { name = "neutrino"                                                 },
  { name = "single_electron",      parameters = [ "@gOre_threshold" ] },
  { name = "no_photons",           parameters = [ "@gOre_threshold" ] },
  { name = "no_muons",             parameters = [ "@muon_threshold" ] },
  { name = "no_charged_pions",     parameters = [ "@pion_threshold" ] },
]

[[category]] # contained, fiducial, dual photon
cuts = [
  { name = "neutrino"                                                 },
  { name = "containment_cut"                                          },
  { name = "fiducial_cut"                                             },
  { name = "dual_photon",          parameters = [ "@gOre_threshold" ] },
  { name = "no_electrons",         parameters = [ "@gOre_threshold" ] },
  { name = "no_muons",             parameters = [ "@muon_threshold" ] },
  { name = "no_charged_pions",     parameters = [ "@pion_threshold" ] },
]

[[category]] # dual photon
cuts = [
  { name = "neutrino"                                                 },
  { name = "dual_photon",          parameters = [ "@gOre_threshold" ] },
  { name = "no_electrons",         parameters = [ "@gOre_threshold" ] },
  { name = "no_muons",             parameters = [ "@muon_threshold" ] },
  { name = "no_charged_pions",     parameters = [ "@pion_threshold" ] },
]

[[category]] # NC
cuts = [
  { name = "neutrino" },
  { name = "!iscc"    },
]

[[category]] # CC
cuts = [
  { name = "neutrino" },
]

[[category]] # cosmic
cuts = [
  { name = "!neutrino" },
]

[[sample]] # cv
name = "cv"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/nominal/*.flat.root"
ismc = true
disable = false

[[sample]] # cvext
name = "cvext"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/cvext/*.flat.root"
ismc = true
disable = false

[[sample]] # var00
name = "var00"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var00/*.flat.root"
ismc = true
disable = false

[[sample]] # var01
name = "var01"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var01/*.flat.root"
ismc = true
disable = false

[[sample]] # var02
name = "var02"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var00/*.flat.root"
ismc = true
disable = false

[[sample]] # var03m
name = "var03m"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var03m/*.flat.root"
ismc = true
disable = false

[[sample]] # var03p
name = "var03p"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var03p/*.flat.root"
ismc = true
disable = false

[[sample]] # var04
name = "var04"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var04/*.flat.root"
ismc = true
disable = false

[[sample]] # var05
name = "var05"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var05/*.flat.root"
ismc = true
disable = false

[[sample]] # var06
name = "var06"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var06/*.flat.root"
ismc = true
disable = false

[[sample]] # var07
name = "var07"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var07/*.flat.root"
ismc = true
disable = false

[[sample]] # var08
name = "var08"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var08/*.flat.root"
ismc = true
disable = true

[[sample]] # var09m
name = "var09m"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var09m/*.flat.root"
ismc = true
disable = false

[[sample]] # var09p
name = "var09p"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var09p/*.flat.root"
ismc = true
disable = false

[[sample]] # var10m
name = "var10m"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var10m/*.flat.root"
ismc = true
disable = false

[[sample]] # var10p
name = "var10p"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var10p/*.flat.root"
ismc = true
disable = false

[[sample]] # var11
name = "var11"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var11/*.flat.root"
ismc = true
disable = false

[[sample]] # var12m
name = "var12m"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var12m/*.flat.root"
ismc = true
disable = false

[[sample]] # var12p
name = "var12p"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var12p/*.flat.root"
ismc = true
disable = false

[[sample]] # var13m
name = "var13m"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var13m/*.flat.root"
ismc = true
disable = false

[[sample]] # var13p
name = "var13p"
path = "/pnfs/icarus/persistent/users/mueller/production/simulation/var13p/*.flat.root"
ismc = true
disable = false

[[tree]] # selection (1γ0p)
name = "selected_1g0p"
sim_only = false
add_systematics = true
mode = "reco"
cut = [
  { name = "fiducial_cut",    type = "reco" },
  { name = "containment_cut", type = "reco" },
  { name = "flash_cut",       type = "reco", parameters = [ "@flash_low_t", "@flash_high_t" ] },
  { name = "gOre_topology",   type = "reco", parameters = [ "@gOre_threshold", "@muon_threshold", "@pion_threshold" ] },
  { name = "no_protons",      type = "reco", parameters = [ "@proton_threshold" ] }
]
branch = [
  # MC Truth
  { name = "cc",               type = "mctruth" },
  { name = "pdg",              type = "mctruth" },
  { name = "interaction_mode", type = "mctruth" },
  { name = "interaction_type", type = "mctruth" },
  { name = "neutrino_energy",  type = "mctruth" },
  { name = "baryon_res_code",  type = "mctruth" },
  { name = "mc_category",      type = "mctruth", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold",
                                                                "@fiducial_xdist_pos", "@fiducial_xdist_neg", "@fiducial_ydist_pos", "@fiducial_ydist_neg", "@fiducial_zdist_pos", "@fiducial_zdist_neg", ] },
  # True
  { name = "neutrino_id",   type = "true" },
  { name = "category",      type = "true" },
  { name = "gOre_category", type = "true", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold" ] },
  # Reco
  { name = "fiducial",       type = "reco" },
  { name = "containment",    type = "reco" },
  { name = "flash",          type = "reco" },
  { name = "gOre_topology",  type = "reco", parameters = [ "@gOre_threshold", "@muon_threshold", "@pion_threshold" ] },
  { name = "flash_time",     type = "reco" },
  { name = "flash_total_pe", type = "reco" },
  { name = "pion_mass",      type = "reco" },
  # Both
  { name = "n_primary_showers", type = "both", parameters = [ "@gOre_threshold" ] },
  { name = "n_protons",         type = "both", parameters = [ "@proton_threshold" ] },
  { name = "gOre_gap",          type = "both", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold" ] },
  { name = "vertex_x",          type = "both" },
  { name = "vertex_y",          type = "both" },
  { name = "vertex_z",          type = "both" },
  { name = "delta_mass_N",      type = "both", parameters = [ "@flash_pe_neutron_scaling", "@angle_neutron_scaling" ] },
  { name = "delta_mass_P",      type = "both" },
  # Leading gOre
  { name = "ancestor",           type = "true_particle", selector = "leading_primary_gOre" },
  { name = "primary_softmax",    type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "photon_softmax",     type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "axial_spread",       type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "directional_spread", type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "start_dedx",         type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "shower_ke",          type = "both_particle", selector = "leading_primary_gOre" },
  { name = "shower_dpT",         type = "both_particle", selector = "leading_primary_gOre" },
  { name = "polar_angle",        type = "both_particle", selector = "leading_primary_gOre" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "leading_primary_gOre" },
  { name = "iou",                type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_x",            type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_y",            type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_z",            type = "both_particle", selector = "leading_primary_gOre" },
  # Subleading gOre
  { name = "ancestor",           type = "true_particle", selector = "subleading_primary_gOre" },
  { name = "primary_softmax",    type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "photon_softmax",     type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "axial_spread",       type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "directional_spread", type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "start_dedx",         type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "shower_ke",          type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "shower_dpT",         type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "polar_angle",        type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "iou",                type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_x",            type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_y",            type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_z",            type = "both_particle", selector = "subleading_primary_gOre" },
  # Leading proton
  { name = "ancestor",           type = "true_particle", selector = "leading_primary_proton" },
  { name = "primary_softmax",    type = "reco_particle", selector = "leading_primary_proton" },
  { name = "proton_softmax",     type = "reco_particle", selector = "leading_primary_proton" },
  { name = "ke",                 type = "both_particle", selector = "leading_primary_proton" },
  { name = "dpT",                type = "both_particle", selector = "leading_primary_proton" },
  { name = "length",             type = "both_particle", selector = "leading_primary_proton" },
  { name = "polar_angle",        type = "both_particle", selector = "leading_primary_proton" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "leading_primary_proton" },
  { name = "iou",                type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_x",            type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_y",            type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_z",            type = "both_particle", selector = "leading_primary_proton" },
] 

[[tree]] # selection (1γ1p)
name = "selected_1g1p"
sim_only = false
add_systematics = true
mode = "reco"
cut = [
  { name = "fiducial_cut",    type = "reco" },
  { name = "containment_cut", type = "reco" },
  { name = "flash_cut",       type = "reco", parameters = [ "@flash_low_t", "@flash_high_t" ] },
  { name = "gOre_topology",   type = "reco", parameters = [ "@gOre_threshold", "@muon_threshold", "@pion_threshold" ] },
  { name = "single_proton",   type = "reco", parameters = [ "@proton_threshold" ] }
]
branch = [
  # MC Truth
  { name = "cc",               type = "mctruth" },
  { name = "pdg",              type = "mctruth" },
  { name = "interaction_mode", type = "mctruth" },
  { name = "interaction_type", type = "mctruth" },
  { name = "neutrino_energy",  type = "mctruth" },
  { name = "baryon_res_code",  type = "mctruth" },
  { name = "mc_category",      type = "mctruth", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold",
                                                                "@fiducial_xdist_pos", "@fiducial_xdist_neg", "@fiducial_ydist_pos", "@fiducial_ydist_neg", "@fiducial_zdist_pos", "@fiducial_zdist_neg", ] },
  # True
  { name = "neutrino_id",   type = "true" },
  { name = "category",      type = "true" },
  { name = "gOre_category", type = "true", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold" ] },
  # Reco
  { name = "fiducial",       type = "reco" },
  { name = "containment",    type = "reco" },
  { name = "flash",          type = "reco" },
  { name = "gOre_topology",  type = "reco", parameters = [ "@gOre_threshold", "@muon_threshold", "@pion_threshold" ] },
  { name = "flash_time",     type = "reco" },
  { name = "flash_total_pe", type = "reco" },
  { name = "pion_mass",      type = "reco" },
  # Both
  { name = "n_primary_showers", type = "both", parameters = [ "@gOre_threshold" ] },
  { name = "n_protons",         type = "both", parameters = [ "@proton_threshold" ] },
  { name = "gOre_gap",          type = "both", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold" ] },
  { name = "vertex_x",          type = "both" },
  { name = "vertex_y",          type = "both" },
  { name = "vertex_z",          type = "both" },
  { name = "delta_mass_N",      type = "both", parameters = [ "@flash_pe_neutron_scaling", "@angle_neutron_scaling" ] },
  { name = "delta_mass_P",      type = "both" },
  # Leading gOre
  { name = "ancestor",           type = "true_particle", selector = "leading_primary_gOre" },
  { name = "primary_softmax",    type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "photon_softmax",     type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "axial_spread",       type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "directional_spread", type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "start_dedx",         type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "shower_ke",          type = "both_particle", selector = "leading_primary_gOre" },
  { name = "shower_dpT",         type = "both_particle", selector = "leading_primary_gOre" },
  { name = "polar_angle",        type = "both_particle", selector = "leading_primary_gOre" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "leading_primary_gOre" },
  { name = "iou",                type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_x",            type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_y",            type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_z",            type = "both_particle", selector = "leading_primary_gOre" },
  # Subleading gOre
  { name = "ancestor",           type = "true_particle", selector = "subleading_primary_gOre" },
  { name = "primary_softmax",    type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "photon_softmax",     type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "axial_spread",       type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "directional_spread", type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "start_dedx",         type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "shower_ke",          type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "shower_dpT",         type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "polar_angle",        type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "iou",                type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_x",            type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_y",            type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_z",            type = "both_particle", selector = "subleading_primary_gOre" },
  # Leading proton
  { name = "ancestor",           type = "true_particle", selector = "leading_primary_proton" },
  { name = "primary_softmax",    type = "reco_particle", selector = "leading_primary_proton" },
  { name = "proton_softmax",     type = "reco_particle", selector = "leading_primary_proton" },
  { name = "ke",                 type = "both_particle", selector = "leading_primary_proton" },
  { name = "dpT",                type = "both_particle", selector = "leading_primary_proton" },
  { name = "length",             type = "both_particle", selector = "leading_primary_proton" },
  { name = "polar_angle",        type = "both_particle", selector = "leading_primary_proton" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "leading_primary_proton" },
  { name = "iou",                type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_x",            type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_y",            type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_z",            type = "both_particle", selector = "leading_primary_proton" },
] 

[[tree]] # signal (NC ∆->Nγ) 1g0p
name = "signal_1g0p"
sim_only = true
mode = "true"
add_systematics = true
cut = [
    { name = "fiducial_cut",                type = "true"                                       },
    { name = "containment_cut",             type = "true"                                       },
    { name = "single_photon",               type = "true", parameters = [ "@gOre_threshold" ]   },
    { name = "no_electrons",                type = "true", parameters = [ "@gOre_threshold" ]   },
    { name = "no_muons",                    type = "true", parameters = [ "@muon_threshold" ]   },
    { name = "no_charged_pions",            type = "true", parameters = [ "@pion_threshold" ]   },
    { name = "no_protons",                  type = "true", parameters = [ "@proton_threshold" ] },
    { name = "trigger_emulation_cut",       type = "event", decrements_exposure = false         },
    { name = "has_nc_delta_ng_interaction", type = "event", decrements_exposure = false         },
]
branch = [
  # MC Truth
  { name = "cc",               type = "mctruth" },
  { name = "pdg",              type = "mctruth" },
  { name = "interaction_mode", type = "mctruth" },
  { name = "interaction_type", type = "mctruth" },
  { name = "neutrino_energy",  type = "mctruth" },
  { name = "baryon_res_code",  type = "mctruth" },
  { name = "mc_category",      type = "mctruth", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold",
                                                                "@fiducial_xdist_pos", "@fiducial_xdist_neg", "@fiducial_ydist_pos", "@fiducial_ydist_neg", "@fiducial_zdist_pos", "@fiducial_zdist_neg", ] },
  # True
  { name = "neutrino_id",   type = "true" },
  { name = "category",      type = "true" },
  { name = "gOre_category", type = "true", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold" ] },
  # Reco
  { name = "fiducial",       type = "reco" },
  { name = "containment",    type = "reco" },
  { name = "flash",          type = "reco" },
  { name = "gOre_topology",  type = "reco", parameters = [ "@gOre_threshold", "@muon_threshold", "@pion_threshold" ] },
  { name = "flash_time",     type = "reco" },
  { name = "flash_total_pe", type = "reco" },
  { name = "pion_mass",      type = "reco" },
  # Both
  { name = "n_primary_showers", type = "both", parameters = [ "@gOre_threshold" ] },
  { name = "n_protons",         type = "both", parameters = [ "@proton_threshold" ] },
  { name = "gOre_gap",          type = "both", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold" ] },
  { name = "vertex_x",          type = "both" },
  { name = "vertex_y",          type = "both" },
  { name = "vertex_z",          type = "both" },
  { name = "delta_mass_N",      type = "both", parameters = [ "@flash_pe_neutron_scaling", "@angle_neutron_scaling" ] },
  { name = "delta_mass_P",      type = "both" },
  # Leading gOre
  { name = "ancestor",           type = "true_particle", selector = "leading_primary_gOre" },
  { name = "primary_softmax",    type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "photon_softmax",     type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "axial_spread",       type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "directional_spread", type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "start_dedx",         type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "shower_ke",          type = "both_particle", selector = "leading_primary_gOre" },
  { name = "shower_dpT",         type = "both_particle", selector = "leading_primary_gOre" },
  { name = "polar_angle",        type = "both_particle", selector = "leading_primary_gOre" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "leading_primary_gOre" },
  { name = "iou",                type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_x",            type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_y",            type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_z",            type = "both_particle", selector = "leading_primary_gOre" },
  # Subleading gOre
  { name = "ancestor",           type = "true_particle", selector = "subleading_primary_gOre" },
  { name = "primary_softmax",    type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "photon_softmax",     type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "axial_spread",       type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "directional_spread", type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "start_dedx",         type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "shower_ke",          type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "shower_dpT",         type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "polar_angle",        type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "iou",                type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_x",            type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_y",            type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_z",            type = "both_particle", selector = "subleading_primary_gOre" },
  # Leading proton
  { name = "ancestor",           type = "true_particle", selector = "leading_primary_proton" },
  { name = "primary_softmax",    type = "reco_particle", selector = "leading_primary_proton" },
  { name = "proton_softmax",     type = "reco_particle", selector = "leading_primary_proton" },
  { name = "ke",                 type = "both_particle", selector = "leading_primary_proton" },
  { name = "dpT",                type = "both_particle", selector = "leading_primary_proton" },
  { name = "length",             type = "both_particle", selector = "leading_primary_proton" },
  { name = "polar_angle",        type = "both_particle", selector = "leading_primary_proton" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "leading_primary_proton" },
  { name = "iou",                type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_x",            type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_y",            type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_z",            type = "both_particle", selector = "leading_primary_proton" },
] 

[[tree]] # signal (NC ∆->Nγ) 1g1p
name = "signal_1g1p"
sim_only = true
mode = "true"
add_systematics = true
cut = [
    { name = "fiducial_cut",                type = "true"                                       },
    { name = "containment_cut",             type = "true"                                       },
    { name = "single_photon",               type = "true", parameters = [ "@gOre_threshold" ]   },
    { name = "no_electrons",                type = "true", parameters = [ "@gOre_threshold" ]   },
    { name = "no_muons",                    type = "true", parameters = [ "@muon_threshold" ]   },
    { name = "no_charged_pions",            type = "true", parameters = [ "@pion_threshold" ]   },
    { name = "single_proton",               type = "true", parameters = [ "@proton_threshold" ] },
    { name = "trigger_emulation_cut",       type = "event", decrements_exposure = false         },
    { name = "has_nc_delta_ng_interaction", type = "event", decrements_exposure = false         },
]
branch = [
  # MC Truth
  { name = "cc",               type = "mctruth" },
  { name = "pdg",              type = "mctruth" },
  { name = "interaction_mode", type = "mctruth" },
  { name = "interaction_type", type = "mctruth" },
  { name = "neutrino_energy",  type = "mctruth" },
  { name = "baryon_res_code",  type = "mctruth" },
  { name = "mc_category",      type = "mctruth", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold",
                                                                "@fiducial_xdist_pos", "@fiducial_xdist_neg", "@fiducial_ydist_pos", "@fiducial_ydist_neg", "@fiducial_zdist_pos", "@fiducial_zdist_neg", ] },
  # True
  { name = "neutrino_id",   type = "true" },
  { name = "category",      type = "true" },
  { name = "gOre_category", type = "true", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold" ] },
  # Reco
  { name = "fiducial",       type = "reco" },
  { name = "containment",    type = "reco" },
  { name = "flash",          type = "reco" },
  { name = "gOre_topology",  type = "reco", parameters = [ "@gOre_threshold", "@muon_threshold", "@pion_threshold" ] },
  { name = "flash_time",     type = "reco" },
  { name = "flash_total_pe", type = "reco" },
  { name = "pion_mass",      type = "reco" },
  # Both
  { name = "n_primary_showers", type = "both", parameters = [ "@gOre_threshold" ] },
  { name = "n_protons",         type = "both", parameters = [ "@proton_threshold" ] },
  { name = "gOre_gap",          type = "both", parameters = [ "@gOre_threshold", "@muon_threshold", "@proton_threshold", "@pion_threshold" ] },
  { name = "vertex_x",          type = "both" },
  { name = "vertex_y",          type = "both" },
  { name = "vertex_z",          type = "both" },
  { name = "delta_mass_N",      type = "both", parameters = [ "@flash_pe_neutron_scaling", "@angle_neutron_scaling" ] },
  { name = "delta_mass_P",      type = "both" },
  # Leading gOre
  { name = "ancestor",           type = "true_particle", selector = "leading_primary_gOre" },
  { name = "primary_softmax",    type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "photon_softmax",     type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "axial_spread",       type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "directional_spread", type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "start_dedx",         type = "reco_particle", selector = "leading_primary_gOre" },
  { name = "shower_ke",          type = "both_particle", selector = "leading_primary_gOre" },
  { name = "shower_dpT",         type = "both_particle", selector = "leading_primary_gOre" },
  { name = "polar_angle",        type = "both_particle", selector = "leading_primary_gOre" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "leading_primary_gOre" },
  { name = "iou",                type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_x",            type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_y",            type = "both_particle", selector = "leading_primary_gOre" },
  { name = "start_z",            type = "both_particle", selector = "leading_primary_gOre" },
  # Subleading gOre
  { name = "ancestor",           type = "true_particle", selector = "subleading_primary_gOre" },
  { name = "primary_softmax",    type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "photon_softmax",     type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "axial_spread",       type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "directional_spread", type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "start_dedx",         type = "reco_particle", selector = "subleading_primary_gOre" },
  { name = "shower_ke",          type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "shower_dpT",         type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "polar_angle",        type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "iou",                type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_x",            type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_y",            type = "both_particle", selector = "subleading_primary_gOre" },
  { name = "start_z",            type = "both_particle", selector = "subleading_primary_gOre" },
  # Leading proton
  { name = "ancestor",           type = "true_particle", selector = "leading_primary_proton" },
  { name = "primary_softmax",    type = "reco_particle", selector = "leading_primary_proton" },
  { name = "proton_softmax",     type = "reco_particle", selector = "leading_primary_proton" },
  { name = "ke",                 type = "both_particle", selector = "leading_primary_proton" },
  { name = "dpT",                type = "both_particle", selector = "leading_primary_proton" },
  { name = "length",             type = "both_particle", selector = "leading_primary_proton" },
  { name = "polar_angle",        type = "both_particle", selector = "leading_primary_proton" },
  { name = "azimuthal_angle",    type = "both_particle", selector = "leading_primary_proton" },
  { name = "iou",                type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_x",            type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_y",            type = "both_particle", selector = "leading_primary_proton" },
  { name = "start_z",            type = "both_particle", selector = "leading_primary_proton" },
] 